{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u9280\\u884C\\\\client\\\\src\\\\admin-panel\\\\users.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./users.css\";\nimport Footer from \"../header-footer/footer\";\nimport AdminHeader from \"../header-footer/admin-header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Users() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [selectedAccType, setSelectedAccType] = useState({});\n  const [avl, setAvl] = useState(false);\n  useEffect(() => {\n    setAvl(false);\n    const fetchUsers = async () => {\n      try {\n        const response = await fetch(\"http://localhost:7000/api/findAllUsers\", {\n          method: \"GET\"\n        });\n        const data = await response.json();\n        setUsers(data);\n        console.log(data);\n        if (data.length > 0) {\n          setAvl(true);\n        }\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    };\n    fetchUsers();\n  }, []);\n  const handleCreateAccount = async userId => {\n    const accType = selectedAccType[userId];\n    if (!accType) {\n      alert(\"Please select an account type\");\n      return;\n    }\n    try {\n      const response = await fetch(`http://localhost:7000/api/newAccount/${userId}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          userId,\n          accType\n        })\n      });\n      if (response.ok) {\n        alert(\"Account created successfully\");\n      } else {\n        alert(\"Failed to create account\");\n      }\n    } catch (error) {\n      console.error(\"Error creating account:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-main\",\n    children: [/*#__PURE__*/_jsxDEV(AdminHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"users-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"users-list\",\n        children: users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this), \" \", user.firstName, \" \", user.lastName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 19\n                }, this), \" \", user.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Date of Birth:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 19\n                }, this), \" \", new Date(user.DOB).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, this), \" \", user.address]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"account-type\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: `accType-${user.userId}`,\n                children: \"Select Account Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: `accType-${user.userId}`,\n                value: selectedAccType[user.userId] || \"\",\n                onChange: e => setSelectedAccType({\n                  ...selectedAccType,\n                  [user.userId]: e.target.value\n                }),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  disabled: true,\n                  children: \"Select\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"SAVINGS\",\n                  children: \"Savings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"CURRENT\",\n                  children: \"Current\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleCreateAccount(user.userId),\n                children: \"Create Account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, user.userId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(Users, \"dVYAfM9XDTXQFW5MYY3KVhmEP3Y=\");\n_c = Users;\nexport default Users;\nvar _c;\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["React","useState","useEffect","Footer","AdminHeader","jsxDEV","_jsxDEV","Users","_s","users","setUsers","selectedAccType","setSelectedAccType","avl","setAvl","fetchUsers","response","fetch","method","data","json","console","log","length","error","handleCreateAccount","userId","accType","alert","headers","body","JSON","stringify","ok","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","user","firstName","lastName","email","Date","DOB","toLocaleDateString","address","htmlFor","id","value","onChange","e","target","disabled","onClick","_c","$RefreshReg$"],"sources":["D:/銀行/client/src/admin-panel/users.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./users.css\";\r\nimport Footer from \"../header-footer/footer\";\r\nimport AdminHeader from \"../header-footer/admin-header\";\r\n\r\nfunction Users() {\r\n  const [users, setUsers] = useState([]);\r\n  const [selectedAccType, setSelectedAccType] = useState({});\r\n  const [avl, setAvl] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setAvl(false);\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:7000/api/findAllUsers\", {\r\n          method: \"GET\",\r\n        });\r\n        const data = await response.json();\r\n        setUsers(data);\r\n        console.log(data);\r\n        if(data.length > 0){\r\n          setAvl(true);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching users:\", error);\r\n      }\r\n    };\r\n\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const handleCreateAccount = async (userId) => {\r\n    const accType = selectedAccType[userId];\r\n    if (!accType) {\r\n      alert(\"Please select an account type\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `http://localhost:7000/api/newAccount/${userId}`,\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({ userId, accType }),\r\n        }\r\n      );\r\n\r\n      if (response.ok) {\r\n        alert(\"Account created successfully\");\r\n      } else {\r\n        alert(\"Failed to create account\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error creating account:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"user-main\">\r\n      <AdminHeader />\r\n    <div className=\"users-container\">\r\n      <div className=\"users-list\">\r\n        {users.map((user) => (\r\n          <div className=\"user-card\" key={user.userId}>\r\n            <div className=\"user-info\">\r\n              <p>\r\n                <strong>Name:</strong> {user.firstName} {user.lastName}\r\n              </p>\r\n              <div className=\"user-details\">\r\n                <p>\r\n                  <strong>Email:</strong> {user.email}\r\n                </p>\r\n                <p>\r\n                  <strong>Date of Birth:</strong>{\" \"}\r\n                  {new Date(user.DOB).toLocaleDateString()}\r\n                </p>\r\n                <p>\r\n                  <strong>Address:</strong> {user.address}\r\n                </p>\r\n              </div>\r\n              <div className=\"account-type\">\r\n                <label htmlFor={`accType-${user.userId}`}>\r\n                  Select Account Type:\r\n                </label>\r\n                <select\r\n                  id={`accType-${user.userId}`}\r\n                  value={selectedAccType[user.userId] || \"\"}\r\n                  onChange={(e) =>\r\n                    setSelectedAccType({\r\n                      ...selectedAccType,\r\n                      [user.userId]: e.target.value,\r\n                    })\r\n                  }\r\n                >\r\n                  <option value=\"\" disabled>\r\n                    Select\r\n                  </option>\r\n                  <option value=\"SAVINGS\">Savings</option>\r\n                  <option value=\"CURRENT\">Current</option>\r\n                </select>\r\n                <button onClick={() => handleCreateAccount(user.userId)}>\r\n                  Create Account\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n    <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}